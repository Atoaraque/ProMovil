<app-header title="Checkout"></app-header>

<ion-content [fullscreen]="true">
  <div class="d-flex-center">

    <form [formGroup]="form" class="checkout-form" (ngSubmit)="submit()" (keypress.enter)="submit()">

      <app-custom-input autocomplete="text" icon="home-outline" [control]="form.controls.address" type="text"
        label="Dirección de Envío"></app-custom-input>

      <div class="validators" *ngIf="form.controls.address.errors && form.controls.address.touched">
        <div *ngIf="form.controls.address.errors?.['required']">Este campo es obligatorio.</div>
      </div>

      <app-custom-input autocomplete="text" icon="pin-outline" [control]="form.controls.city" type="text"
        label="Ciudad"></app-custom-input>

      <div class="validators" *ngIf="form.controls.city.errors && form.controls.city.touched">
        <div *ngIf="form.controls.city.errors?.['required']">Este campo es obligatorio.</div>
      </div>

      <app-custom-input autocomplete="text" icon="call-outline" [control]="form.controls.phone" type="tel"
        label="Teléfono"></app-custom-input>

      <div class="validators" *ngIf="form.controls.phone.errors && form.controls.phone.touched">
        <div *ngIf="form.controls.phone.errors?.['required']">Este campo es obligatorio.</div>
        <div *ngIf="form.controls.phone.errors?.['pattern']">Introduce un número de teléfono válido.</div>
      </div>

      <ion-button expand="block" mode="md" class="submit" type="submit" [disabled]="form.invalid">
        Realizar Compra
        <ion-icon slot="end" name="cart-outline"></ion-icon>
      </ion-button>

    </form>

    <div class="map-wrap">
      <div class="map" #map></div>
    </div>
  </div>
</ion-content>
